## μ ν¨μ„± κ²€μ¦
### Validator
: μ¤ν”„λ§μ—μ„ λ„λ©”μΈ κ°μ²΄λ¥Ό κ²€μ¦ν•  μ μλ„λ΅ μ κ³µν•λ” μΈν„°νμ΄μ¤   

Controllerλ΅ HTTP μ”μ²­μ„ `@ModelAttribute` λ¨λΈμ— λ°”μΈλ”© ν•  λ• μ£Όλ΅ μ‚¬μ©λλ‹¤.   
μ΄ μΈν„°νμ΄μ¤λ” `supports()`μ™€ `validate()` λ©”μ†λ“λ΅ κµ¬μ„±λμ–΄ μλ‹¤.   

`supports()`λ” μ΄ κ²€μ¦κΈ°κ°€ **κ²€μ¦ν•  μ μλ” μ¤λΈμ νΈ νƒ€μ…μΈμ§€ ν™•μΈν•΄μ£Όλ” λ©”μ†λ“**λ΅ μ΄ λ©”μ†λ“λ¥Ό **ν†µκ³Όν• κ²½μ°μ—λ§** `validate()`κ°€ νΈμ¶λλ‹¤.   

### μ ν¨μ„± κ²€μ‚¬ Annotation
- `@Valid`: λ€μƒ κ°μ²΄μ ν™•μΈ μ΅°κ±΄μ„ λ§μ΅±ν•λ” κ²½μ° ν†µκ³Ό   
(Spring3 λ¶€ν„° Spring MVCμ—μ„λ” μ»¨νΈλ΅¤λ¬ λ©”μ†λ“μ νλΌλ―Έν„°λ¥Ό μλ™μΌλ΅ κ²€μ¦ν•λ” μ΄ μλ™κ²€μ¦ μ–΄λ…Έν…μ΄μ…μ„ μ κ³µν•λ‹¤.)   

- `@Size(min=, max=)`: λ¬Έμμ—΄ λλ” λ°°μ—΄μ΄ **μ§€μ •λ κ°’ μ‚¬μ΄**μΌ κ²½μ° ν†µκ³Ό   

- `@Positive`: **μ–‘μ**λ§   

- `@NotEmpty`: Null, λΉ λ¬Έμμ—΄ λ¶κ°€

[β΅οΈ μ–΄λ…Έν…μ΄μ… μ°Έκ³ ](https://bamdule.tistory.com/35)   

#### λ™μ‘ μ›λ¦¬
λ¨λ“  μ”μ²­μ€ λ””μ¤ν¨μ² μ„λΈ”λ¦Ώμ„ ν†µν•΄ μ»¨νΈλ΅¤λ¬λ΅ μ „λ‹¬λλ‹¤. κ·Έλ¦¬κ³  μ»¨νΈλ΅¤λ¬μ λ©”μ†λ“λ¥Ό νΈμ¶ν•λ” κ³Όμ •μ—μ„λ” λ©”μ†λ“ κ°’μ„ μ²λ¦¬ν•΄μ£Όλ” ArgumentResolverκ°€ λ™μ‘ν•λ‹¤.   
`@Valid` λν• **ArgumentResolverμ— μν•΄ μ²λ¦¬**λλ‹¤.   

`@Valid`λ” κΈ°λ³Έμ μΌλ΅ **μ»¨νΈλ΅¤λ¬μ—μ„λ§ λ™μ‘**ν•λ‹¤.   
**λ‹¤λ¥Έ κ³„μΈµμ—μ„ νλΌλ―Έν„°λ¥Ό κ²€μ¦**ν•κΈ° μ„ν•΄μ„λ” `@Valicated`**μ™€ κ²°ν•©**λμ–΄μ•Ό ν•λ‹¤.   

***νλΌλ―Έν„°μ μ ν¨μ„± κ²€μ¦μ€ μ»¨νΈλ΅¤λ¬μ—μ„ μ²λ¦¬ν•κ³ ,***   
***μ„λΉ„μ¤λ‚ λ¦¬ν¬μ§€ν† λ¦¬ κ³„μΈµμ—μ„λ” μ ν¨μ„± κ²€μ¦μ„ ν•μ§€ μ•λ” κ²ƒμ΄ λ°”λμ§ν•λ‹¤.***   

ν•μ§€λ§, κ·Έλ¬μ§€ λ»ν•  κ²½μ°κ°€ λ°μƒν•λ‹¤λ©΄ μ•„μ£Ό κ²½μ°κ°€ μ—†λ” κ²ƒμ€ μ•„λ‹λ‹¤.   
Springμ€ **AOP κΈ°λ°μΌλ΅ λ©”μ†λ“ μ”μ²­μ„ κ°€λ΅μ±„ μ ν¨μ„± κ²€μ¦**μ„ ν•  μ μλ„λ΅ `@Validated`λ¥Ό μ κ³µν•λ‹¤.   

(μ΄λ” JSR ν‘μ¤€ κΈ°μ μ΄ μ•„λ‹λ©° Spring ν”„λ μ„μ›ν¬μ—μ„ μ κ³µν•λ” μ–΄λ…Έν…μ΄μ…μ„)   
(μ»¨νΈλ΅¤λ¬, μ„λΉ„μ¤, λ¦¬ν¬μ§€ν† λ¦¬ .. κ³„μΈµμ— λ¬΄κ΄€ν•κ² **μ¤ν”„λ§ λΉμ΄λΌλ©΄ μ ν¨μ„± κ²€μ¦ κ°€λ¥**)   

`@Valid`μ™€ `@Validated`μ— μν• μμ™Έ ν΄λμ¤λ” λ‹¤λ¥΄λ‹¤.   
- `@Valid`: MethodArgumentNotValidException   
- `@Validated`: ConstraintViolationException   


## BindingResult
: `org.springFramework.validation.BindingResult`   
Errorsμ ν•μ„ μΈν„°νμ΄μ¤λ΅ νΌ κ°’μ„ **μ»¤λ§¨λ“ κ°μ²΄μ— λ°”μΈλ”©ν• κ²°κ³Όλ¥Ό μ €μ¥**ν•κ³  **μ—λ¬μ½”λ“λ΅ λ©”μ‹μ§€λ¥Ό κ°€μ Έμ΄**   

#### Errors μΈν„°νμ΄μ¤μ μ—λ¬ λ°μƒ μ—¬λ¶€λ¥Ό ν™•μΈν•κΈ° μ„ν• λ©”μ†λ“
- `boolean hasErrors()`
: μ—λ¬κ°€ μ΅΄μ¬ν•  κ²½μ° true λ°ν™
- `int getErrorCount()`
: μ—λ¬ κ°μ λ°ν™
- `boolean hasGlobalErrors()`
: reject() λ©”μ†λ“λ¥Ό μ΄μ©ν•΄ μ¶”κ°€λ κΈ€λ΅λ² μ—λ¬κ°€ μ΅΄μ¬ν•  κ²½μ° true λ°ν™
- `int getGlovalErrorCount()`
: reject() λ©”μ†λ“λ¥Ό μ΄μ©ν•΄ μ¶”κ°€λ μ—λ¬ κ°μ λ°ν™
- `boolean hasFieldErrors()`
: rejectValue() λ©”μ†λ“λ¥Ό μ΄μ©ν•΄ μ¶”κ°€λ μ—λ¬ λ°μƒν•  κ²½μ° true λ°ν™
- `int getFieldErrorCount()`
: rejectValue() λ©”μ†λ“λ¥Ό μ΄μ©ν•΄ μ¶”κ°€ μ—λ¬ κ°μ λ°ν™
- `boolean hasFieldErrors(String field)`
: rejectValue() λ©”μ†λ“ μ΄μ©ν•΄ μ¶”κ°€ν• νΉμ • ν•„λ“μ μ—λ¬κ°€ μ΅΄μ¬ν•  κ²½μ° true λ°ν™
- `int getFieldErrorCount(String filed)`
: rejectValue() λ©”μ†λ“λ¥Ό μ΄μ©ν•΄ μ¶”κ°€ν• νΉμ • ν•„λ“μ μ—λ¬ κ°μ λ°ν™   

- `getFieldErrors`   
: <FieldError> getFieldErrors() λ‚μ—΄   
- `getFileError`   
: ν•„λ“μ™€ κ΄€λ ¨λ μ¤λ¥κ°€ μλ” κ²½μ° μ²«λ²μ§Έ μ¤λ¥λ¥Ό κ°€μ Έμ΄   

### π¤·π»β€β™€οΈ @Valid μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•  κ²½μ° BindingResultλ¥Ό Mock κ°μ²΄λ΅ λ§λ“¤μ–΄μ•Ό ν•  λ•λ”?   
Mock κ°μ²΄λ¥Ό μ‚¬μ©ν•  μ μλ„λ΅ **setup μ½”λ“λ¥Ό μ‚½μ…**ν•μ—¬ ν•΄λ‹Ή BindingResultλ¥Ό λ¬΄μ‹ν•κ³  ν…μ¤νΈ μν–‰ν•  μ μλ„λ΅ ν•κΈ°   
  
```java
    @Before
    public void setup() {
        MockitoAnnotations.initMocks(this);
        Mockito.when(mockBindingResult.hasErrors()).thenReturn(true);
    }
```
