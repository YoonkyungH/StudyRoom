## JPQL
: Java Persistence Query Language

JPA는 JPQL, QueryDSL등과 같은 다양한 쿼리 방법을 지원한다.

JPA를 사용하면 엔티티 객체를 중심으로 개발하는데 이때 검색 쿼리시 문제가 될 수 있다.  
JPQL은 테이블이 아닌 엔티티 객체를 대상으로 검색하기 때문에 가능하다.

> JPQL과 SQL의 가장 큰 차이점으로 SQL은 데이터베이스 테이블을 대상으로 쿼리한다.  
> (하지만 JPQL도 결국 방언과 조합되어 SQL로 변환된다.)

JPQL은 SQL을 추상화하여 특정 데이터베이스 SQL에 의존하지 않는나는 장점이 있다.  
(JPQL은 객체지향 SQL)

### JPQL 문법
엔티티와 속성은 대소문자를 구분하지만 JPQL 키워드는 대소문자를 구분하지 않는다.

그리고 테이블 이름 대신 엔티티 이름을 사용한다.

또한 as는 생략 가능하되 별칭은 필수로 붙여주어야 한다.  
(Ex. Member m)

> - **TypeQuery**  
> : 반환 타입이 명확할 때 사용
> - **Query**  
> : 반환 타입이 명확하지 않을 때 사용

> - **query.getResultList()**  
> : 결과가 **하나 이상일 때** 리스트를 반환한다. 결과가 없을 경우 빈 리스트를 반환한다.
> - **query.getSingleResult()**  
> : 결과가 **딱 하나일 때**, 단일 객체를 반환한다. 결과가 없거나 둘 이상이라면 예외를 발생시킨다.

그리고 JPQL은 파라미터 바인딩을 지원하는데 이는 이름, 위치를 기준으로 한다.

