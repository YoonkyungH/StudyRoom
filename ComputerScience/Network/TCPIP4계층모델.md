## TCP/IP 4계층 모델

> **인터넷 프로토콜 스위트(internet protocol suite)**  
> : 인터넷에서 컴퓨터들이 서로 정보를 주고 받는 데 쓰이는 프로토콜 집합

TCP/IP 4계층 모델은 OSI 7계층 모델과 많이 비교된다.

TCP/IP의 애플리케이션 계층은 OSI에서 애플리케이션/프레젠테이션/세션 계층으로 나뉜다.
그리고 인터넷 계층은 네트워크 계층이라 불리며, 링크 계층은 데이터 링크/물리 계층으로 나누어 표현한다.

### 애플리케이션 계층
: FTP, HTTP, SSH, SMTP, DNS등 응용 프로그램이 사용되는 프로토콜 계층으로 실질적인 제공을 담당

> - **FTP**: 파일 전송 표준 통신 프로토콜
> - **SSH**: 암호화 네트워크 프로토콜
> - **HTTP**: WWW를 위한 데이터 통신의 기초이자 웹 사이트 이용 프로토콜
> - **SMTP**: 메일 전송 인터넷 표준 통신 프로토콜
> - **DNS**: 도메인 이름과 IP 주소를 매핑해주는 서버

### 전송 계층
: TCP, UDP 등 송/수신자를 연결하는 통신 서비스를 제공하는 프로토콜 계층

#### TCP
: 패킷 전송 순서와 신뢰성을 보장한다.  
`가상회선 패킷 교환 방식` 사용

> **가상회선 패킷 교환 방식**
> : 패킷에 식별자가 포함되어 패킷을 순서대로 도착하도록 한다.

TCP가 신뢰성을 가지기 위해서는 연결시 3-way handshake, 해제시 4-way handshake 작업을 수행한다.

#### UDP
: 순서를 보장하지 않고 단순히 데이터만 전달한다.  
`데이터그램 패킷 교환 방식` 사용

> **데이터그램 패킷 교환 방식**
> : 패킷이 독립적으로 이동하며 하나의 메시지가 분할되어 생긴 패킷들이 서로 다른 경로로 이동해 순서를 보장할 수 없다.

### 인터넷 계층
: IP, ARP, ICMP
IP 주소를 통해 지정된 목적지로 전송

비연결형적인 특징을 가져 수신에 대해 보장하지 않는다.

### 링크 계층 (네트워크 접근 계층)
: 전선, 광섬유, 무선 등을 이용해 실직적으로 데이터를 전달하며 장치간 신호를 주고받는 규칙을 정하는 계층

링크 계층은 물리/데이터 링크 계층으로 나뉘기도 하는데,
- **링크 계층**: 무/유선 LAN을 통해 0과 1로 이루어진 데이터 전송
- **데이터 링크 계층**: 이더넷 프레임을 통해 에러를 확인하고 흐름 제어, 접근 제어를 담당한다.


### 전이중화 통신(full duplex) - 유선 LAN
: 송/수신로를 따로 가져 동시 통신이 가능하다.

#### CSMA/CD
: Carrier Sense Multiple Access with Collision Detection, 반이중화 통신 중 하나
(이전 유선 LAN에 사용)

데이터를 보낸 이후 충돌이 발생하면 일정 시간 이후 재전송 하는 방식

### 반이중화 통신(half duplex) - 무선 LAN
: 동시 통신이 불가능

#### CSMA/CA
: Carrier Sense Multiple Access with Collision Avoidance

사전에 충돌을 방지한다. (캐리어 감지(회선이 비어 있는지 판단) 등 이용)

#### 와이파이
: 무선 접촉 장치 (AP, Access Poing) 필요(공유기)

지그비, 블루투스등 또한 무선 LAN을 이용한 기술

#### BSS
: Basic Service Set, 기본 서비스 집합

근거리 무선 통신을 제공한다.

#### ESS
: Extended Service Set, 하나 이상이 연결된 BSS 그룹

### 이더넷 프레임
: 에러 검출, 캡슐화 기능

> - **Preamble**  
> : 이더넷 프레임 시작을 알림 
> - **SFD**  
> : Start Frame Delimiter, 다음 바이트 MAC 주소 필드 시작을 알림
> - **DMAC, SMAC**  
> : 수송신 MAC 주소
> - **EtherType**  
> : 데이터 계층 윗 계층 IP 프로토콜을 정의 (Ex. IPv4, IPv6)
> - **Payload**  
> : 데이터
> - **CRC**  
> : 에러 확인 비트

### 캡슐화

## PDU
: Protocol Data Unit, 데이터가 전달될 때 한 덩어리의 단위

헤더(제어 관련 정보) + 페이로드(데이터)로 구성되며, 부르는 명칭은 메시지(애플리케이션 계층), 세그먼트/데이터그램(전송 계층), 패킷(인터넷 계층), 프레임(데이터 링크 계층), 비트(물리 계층)로 다르다.
