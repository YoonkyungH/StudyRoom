
## IP 주소

### ARP
: Address Resolution Protocol, IP 주소로부터 MAC 주소를 구하는 IP와 MAC 주소의 다리 역할을 하는 프로토콜

ARP를 통해 IP 주소(가상 주소)를 MAC 주소(실제 주소)로 변환한다.

(RARP는 MAC 주소(실제 주소)를 IP 주소(가상 주소)로 변환)

<img width="307" alt="image" src="https://user-images.githubusercontent.com/57247474/173486077-b4843dfa-edd4-4be6-be25-247fc6e681a1.png">

<img width="255" alt="image" src="https://user-images.githubusercontent.com/57247474/173490040-8c79ff85-86ef-41fd-93d5-a2cc59dc193d.png">


1. A 장치가 ARP Request 브로드캐스트를 보내면 해당 IP주소에 해당하는 MAC 주소를 찾는다.    
2. 주소에 맞는 B 장치는 ARP reply 유니캐스트를 통해 MAC 주소를 반환한다.  

> - **브로드캐스트**  
> : 송신 호스트가 전송한 데이터가 네트워크에 연결된 모든 호스트에 전송
> - **유니캐스트**  
> : 고유 주소로 식별된 하나의 네트워크 목적지에 1:1로 데이터 전송

### 홉바이홉 통신
: hop by hop, IP 주소를 통해 통신하는 과정

> **hop**: 건너뛰는 모습

라우팅 테이블의 IP를 통해 시작 주소부터 시작해 다음 IP로 계속 이동하는 **라우팅**(IP 주소를 찾아가는) 과정을 거쳐 패킷이 최종 목적지에 이르는 통신

#### 라우팅 테이블
: routing table, 목적지 정보들과 그 목적지로 가기 위한 방법이 들어있는 리스트 

게이트웨이와 모든 목적지에 대해 도달하기 위해 거쳐야 하는 다음 라우터의 정보를 가지고 있다.

#### 게이트웨이
: gateway, 서로 통신 가능하도록 하는 관문 역할을 하는 컴퓨터 또는 소프트웨어
(톨케이트 같은 개념)

`netstat -r` 명령어를 통해 라우팅 테이블을 확인할 수 있다.

### IP 주소 체계
- IPv4 / IPv6

#### IPv4
: 32비트를 8비트 단위로 점을 찍어 표현
Ex. 123.45.67.89

#### IPv6
: 64비트를 16비트 단위로 점을 찍어 표현
Ex. 2001:db8::ff00:42:8329

추세는 IPv6지만 아직은 IPv4가 훨씬 많이 쓰이고 있다.

### 클래스 기반 할당 방식
처음 IP주소 체계는 클래스 기반 할당 방식(CIDR)을 사용하였다.
이는 클래스 A, B, C, D, E로 구분한다.

네트워크 주소를 앞에 두고 컴퓨터에 부여하는 주소인 호스트 주소를 뒤에 놓아 사용한다.

클래스 A, B, C는 일대일 통신, 클래스 D는 멀티캐스트 통신, 클래스 E는 예비용으로 사용한다.

이 방식은 사용하는 주소보다 버리는 주소가 더 많았기 때문에 사용하지 않게 되었다.

### DHCP
: Dynamic Host Configuration Protocol, IP 주소 및 기타 통신 매개변수를 자동으로 할당하기 위한 네트워크 관리 프로토콜

이 기술 덕분에 인터넷에 접속할 때마다 자동으로 IP 주소를 할당할 수 있게 되었다.

### NAT
: Network Address Translation, 패킷이 라우팅 장치를 통해 전송되는 동안 패킷의 IP 주소 정보를 수정하여 IP 주소를 다른 주소로 매핑하는 방법

이는 여러 대의 호스트가 하나의 공인 IP 주소를 사용해 인터넷에 접속하기 위해 사용한다.
(Ex. 인터넷 회선 하나 개통 후 인터넷 공유기를 달아 여러 PC를 연결해 사용)

> **장점**  
> - 내부 네트워크에서 사용하는 IP 주소와 외부에 드러나는 IP 주소가 달라 보안이 강화된다.   
> 
> **단점**   
> - 여러 명이 동시 인터넷을 접속하면 속도가 느려질 수 있다.
