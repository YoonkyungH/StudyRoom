### - 네트워크 OSI 7계층
https://shlee0882.tistory.com/110
네트워크에서 통신이 일어나는 과정을 7단계로 나눈 것

7단계 중 특정한 곳에 이상이 생기면 다른 단계의 장비 및 소프트웨어를 건들이지 않고도 이상이 생긴 단계만 고칠 수 있는 장점이 있음

#### Pysical Layer 물리 계층 (1계층)
> **케이블, 리피터, 허브를 통해 데이터 전송**

주로 전기적, 기계적, 기능적인 특성을 이용해 통신 케이블로 데이터를 전송
사용되는 통신 단위는 비트(1 또는 0, on or off)

단지 전송만 할 뿐 데이터가 무엇인지, 에러 여부 등에는 전혀 신경쓰지 않음

대표적인 장비: 통신 케이블, 리피터, 허브 등이 있음

#### Data Link Layer 데이터 링크
> **프레임에 주소 부여(MAC-물리적 주소)
> 에러검출/재전송/흐름제어**

물리계층을 통해 송수신되는 정보의 오류와 흐름을 관리해 안전한 정보의 전달을 수행할 수 있도록 도와주는 역할
(오류 발견, 재전송 기능)

맥 주소를 가지고 통신함
전송되는 단위는 프레임

대표적인 장비: 브릿지, 스위치
브릿지나 스위치를 통해 맥주소를 가지고 물리계층에서 받은 정보를 전달

데이터링크 계층은 point to point 간 신뢰성 있는 전송을 보장하기 위한 계층으로 CRC 기반의 오류 제어와 흐름 제어가 필요

주소 값은 물리적으로 할당 받는데, 이는 네트워크 가드가 만들어질 때부터 맥주소가 정해져있다는 뜻이다. 

#### Network Layer 네트워크
> **주소부여(IP), 경로설정(Route)**

데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능(라우팅)을 담당
(데이터를 연결하는 다른 네트워크를 통해 전달함으로써 인터넷이 가능하게 함)
여기 사용되는 프로토콜의 종류도 다양, 라우팅 기술도 다양

경로를 선택하고, 주소를 정하고, 경로에 따라 패킷을 전달해주는 것이 이 계층의 역할
대표적인 장비는 라우터
요즘은 2계층의 장비 중 스위치라는 장비에 라우팅 기능을 장착한 Layer3 스위치도 있음
(여기서 IP 주소 사용)

네트워크 계층은 여러 개의 노드를 거칠 때마다 경로를 찾아주는 역할을 하는 계층으로 다양한 길이의 데이터를 네트워크들을 통해 전달하고, 그 과정에서 전송 계층이 요구하는 서비스 품질(QoS)을 제공하기 위한 기능적, 절차적 수단을 제공

네트워크 계층은 라우팅, 흐름제어, 세그멘테이션, 오류제어, 인터네트워킹 등을 수행

논리적인 주소 구조(IP), 곧 네트워크 관리자가 직접 주소를 할당하는 구조를 가지며 계층적(hierarchical)임

> **IP 계층**
> TCP/IP 상에서 IP 계층이란 네트워크 주소(IP 주소)를 정의하고,
> IP 패킷의 전달 및 라우팅을 담당하는 계층
> 
> OSI 7 계층 모델의 관점에서 볼 때 IP 계층은 네트워크 계층에 해당
> 즉, 패킷을 목적지까지 전달하는 역할 및 그에 수반되는 기타 역할을 함
> 
> IP 계층 상에 있는 주요 프로토콜
> - 패킷의 전달을 책임지는 IP
> - 패킷 전달 에러의 보고 및 진단을 위한 ICMP
> - 복잡한 네트워크에서 인터네트워킹을 위한 경로를 찾게 해주는 라우팅 프로토콜

> **IP 프로토콜**
> TCP/IP 기반의 인터넷 망을 통해 데이터그램의 전달을 담당하는 프로토콜
> 
> IP 프로토콜 주요 기능으로는
> IP 계층에서 IP 패킷의 라우팅 대상이 된다.(Routing)
> IP 주소 지정(Addressing)
> 
> 특징으로 신뢰성(에러제어) 및 흐름제어 기능을 전혀 수행하지 않는다.
> 비연결성 데이터그램 방식으로 전달되는 프로토콜이다.
> IP 패킷 헤더 내 수신 및 발신 주소를 포함한다.
> TCP, UDP, ICMP, IGMP 등이 IP 데이터그램에 실려 전송된다.


#### Transport Layer 전송
> **패킷 생성 및 전송**

통신을 활성화하기 위한 계층
보통 TCP 프로토콜을 이용하며, 포트를 열어 응용 프로그램들이 전송을 할 수 있도록 함
만약 데이터가 왔다면 4계층에서 해당 데이터를 하나로 합쳐 5계층에 던짐.

전송 계층은 특정 연결의 유효성을 제어하고, 일부 프로토콜은 상태 개념이 있고(stateful), 연결 기반(connection oriented)이다.
=> 전송 계층이 패킷들의 전송이 유효한지 확인하고 전송 실패한 패킷들을 다시 전송한다는 것
(Ex. TCP)

종단간 통신을 다루는 최하위 계층으로 종단간 신뢰성 있고 효율적인 데이터를 전송하며, 기능은 오류 검출 및 복구와 흐름 제어, 중복 검사 등을 수행

> **TCP 프로토콜**
> 양종단 호스트 내 프로세스 상호 간 신뢰적인 연결 지향성 서비스를 제공
> - IP의 비신뢰적인 최선형 서비스에다가 신뢰적인 연결지향성 서비스를 제공하게 됨
> - 신뢰적인 전송을 보장함으로써, 어플리케이션 구현이 한층 쉬워짐
> 
> 1. **신뢰적 Reliable**
>    패킷 손실x, 중복x, 순서를 보장
>    TCP 하위 계층인 IP 계층의 신뢰성 없는 서비스에 대해 다방면으로 신뢰성을 제공
> 2. **연결 지향적 Connection-oriented**
>    같은 전송 계층의 UDP가 비연결성인 것과 달리 TCP는 연결 지향적
>    이 경우, 느슨한 연결을 가지므로 강한 연결을 의미하는 가상회선이라는 표현보다는 오히려 연결 지향적이라고 함.

> **UDP 프로토콜**
> 전송 계층의 통신 프로토콜의 하나(TCP와 대비)
> - 신뢰성이 낮은 프로토콜로써 완전성을 보증하지 않으나,
> - 가상회선을 굳이 확립할 필요가 없고 유연하며 효율적 응용의 데이터 전송에 사용
> 
> 1. **비연결성, 신뢰성x, 순서화되지 않은 Datagram 서비스 제공**
>    - 확인 응답 없음
>    - 순서제어 없음
>    - 흐름제어 없음
>    - 오류제어 거의 없음
>    - 데이터그램 지향의 전송계층용 프로토콜(논리적인 가상회선 연결 필요 없음)
> 2. **실시간 응용 및 멀티캐스팅 가능**
>    - 빠른 요청과 응답이 필요한 실시간 응용에 적합
>    - 여러 다수 지점에 전송 가능(1:n)
> 3. **헤더 단순**
>    - UDP는 TCP 처럼 16비트의 포트 번호를 사용하나,
>    - 헤더는 고정 크기의 8바이트(TCP는 20 바이트)만 사용
>    - 즉, 헤더 처리에 많은 시간과 노력을 요하지 않음

#### Session Layer 세션
> **- 통신하는 사용자들을 동기화
> - 오류 복구 명령들을 일괄적으로 다룸
> - 통신을 하기 위한 세션을 확립/유지/중단 (OS가 수행)**

데이터가 통신하기 위한 논리적인 연결
(통신을 하기위한 대문)

세션 설정, 유지, 종료, 전송 중단시 복구 등의 기능 수행

세션계층은 양 끝단의 응용 프로세스가 통신을 관리하기 위한 방법을 제공
동시 송수신 방식(Duplex), 반이중 방식(Half-Duplex), 전이중 방식(Full-Duplex)의 통신과 함께, 체크 포인팅과 유휴, 종료, 다시 시작 과정 등을 수행

이 계층은 TCP/IP 세션을 만들고 없애는 책임을 진다.

#### Presentation Layer 표현
> **사용자의 명령어를 완성 및 결과 표현. 포장/압축/암호화**

데이터 표현이 상이한 응용 프로세스의 독립성을 제공하고, 암호화

코드간 번역을 담당하며 사용자 시스템에서 데이터의 형식상 차이를 다루는 부담을 응용 계층으로부터 덜어줌.
MIME 인코딩이나 암호화 등의 동작이 이 계층에서 이루어짐.
(Ex. 인코딩 된 문서 파일을 ASCII로 인코딩 된 파일로 바꿔줌. 해당 데이터가 텍스트인지 그림인지 구분하는 것은 표현 계층의 몫)

#### Application Layer 응용 (7계층)
> **네트워크 소프트웨어 UI 부분, 사용자의 입출력(I/O) 부분**

최종 목적지로써 HTTP, FTP, SMTP, POP3, IMAP, Telnet 등과 같은 프로토콜을 가짐.
모든 통신의 양 끝단은 HTTP와 같은 프로토콜이지 응용 프로그램이 아님.

응용 계층은 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행.
일반적인 응용 서비스는 관련된 응용 프로세스들의 사이의 전환을 제공.
Ex. 가상 터미널(텔넷)
